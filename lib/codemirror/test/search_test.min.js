!function(){"use strict";function o(o){var n=Array.prototype.slice.call(arguments,1,arguments.length-1).join("\n"),e=arguments[arguments.length-1];return window.test("search_"+o,function(){e(new CodeMirror.Doc(n))})}function n(o,n,e){for(var t=o.getSearchCursor(n,null,e),r=3;r<arguments.length;r+=4){var s=t.findNext();is(s,"not enough results (forward)"),eqPos(Pos(arguments[r],arguments[r+1]),t.from(),"from, forward, "+(r-3)/4),eqPos(Pos(arguments[r+2],arguments[r+3]),t.to(),"to, forward, "+(r-3)/4)}is(!t.findNext(),"too many matches (forward)");for(var r=arguments.length-4;r>=3;r-=4){var s=t.findPrevious();is(s,"not enough results (backwards)"),eqPos(Pos(arguments[r],arguments[r+1]),t.from(),"from, backwards, "+(r-3)/4),eqPos(Pos(arguments[r+2],arguments[r+3]),t.to(),"to, backwards, "+(r-3)/4)}is(!t.findPrevious(),"too many matches (backwards)")}o("simple","abcdefg","abcdefg",function(o){n(o,"cde",!1,0,2,0,5,1,2,1,5)}),o("multiline","hallo","goodbye",function(o){n(o,"llo\ngoo",!1,0,2,1,3),n(o,"blah\nhall",!1),n(o,"bye\neye",!1)}),o("regexp","abcde","abcde",function(o){n(o,/bcd/,!1,0,1,0,4,1,1,1,4),n(o,/BCD/,!1),n(o,/BCD/i,!1,0,1,0,4,1,1,1,4)}),o("insensitive","hallo","HALLO","oink","hAllO",function(o){n(o,"All",!1,3,1,3,4),n(o,"All",!0,0,1,0,4,1,1,1,4,3,1,3,4)}),o("multilineInsensitive","zie ginds komT","De Stoomboot","uit Spanje weer aan",function(o){n(o,"komt\nde stoomboot\nuit",!1),n(o,"komt\nde stoomboot\nuit",!0,0,10,2,3),n(o,"kOMt\ndE stOOmboot\nuiT",!0,0,10,2,3)}),o("expandingCaseFold","<b>İİ İİ</b>","<b>uu uu</b>",function(o){phantom||(n(o,"</b>",!0,0,8,0,12,1,8,1,12),n(o,"İİ",!0,0,3,0,5,0,6,0,8))})}();